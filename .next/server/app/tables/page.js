(()=>{var e={};e.id=952,e.ids=[952],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},8448:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},3780:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(4866),r(4760),r(5866);var s=r(3191),n=r(8716),i=r(7922),a=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["tables",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4866)),"/Users/stanislavozarchuk/Projects/matrix-ton/frontend/app/tables/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4760)),"/Users/stanislavozarchuk/Projects/matrix-ton/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/stanislavozarchuk/Projects/matrix-ton/frontend/app/tables/page.tsx"],p="/tables/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/tables/page",pathname:"/tables",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5351:(e,t,r)=>{Promise.resolve().then(r.bind(r,698)),Promise.resolve().then(r.bind(r,3202)),Promise.resolve().then(r.bind(r,6493)),Promise.resolve().then(r.bind(r,9950))},3943:(e,t,r)=>{Promise.resolve().then(r.bind(r,4172))},531:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},4172:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(326),n=r(7577),i=r(5047);function a({tableNumber:e,price:t,cycles:r,slots:i,isActive:a,isUnlocked:o,onBuy:l}){let d=(0,n.useRef)(null);(0,n.useRef)(null);let c=(0,n.useRef)(null);return s.jsx("div",{ref:c,className:"w-full",style:{margin:0,padding:0},children:s.jsx("canvas",{ref:d,className:"w-full h-auto",style:{cursor:o&&!a?"pointer":"default"}})})}var o=r(6557);let l=(0,o.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),d=(0,o.Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),c=(0,o.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p=(0,o.Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);var u=r(7092),x=r(698);function h(){let[e,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!0),[a,o]=(0,n.useState)([]),[h]=(0,u.dG)(),m=(0,u.dD)(),g=a.filter(e=>"ACTIVE"===e.status).length,b=a.reduce((e,t)=>e+(t.cycleNumber||0),0);return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{style:{position:"fixed",top:"12px",left:"12px",zIndex:99999,width:"56px",height:"56px"},children:s.jsx("button",{onClick:()=>{i(!r),document.documentElement.classList.toggle("light-theme")},style:{width:"56px",height:"56px",borderRadius:"50%",background:"rgba(139, 92, 246, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(139, 92, 246, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s"},children:r?s.jsx(l,{size:24,className:"text-purple-300"}):s.jsx(d,{size:24,className:"text-purple-300"})})}),s.jsx("div",{style:{position:"fixed",top:"12px",right:"12px",zIndex:99999,width:"56px",height:"56px"},children:s.jsx("button",{onClick:()=>t(!e),style:{width:"100%",height:"100%",borderRadius:"50%",background:"rgba(30, 30, 50, 0.3)",backdropFilter:"blur(10px)",border:"1px solid rgba(139, 92, 246, 0.5)",boxShadow:"0 8px 32px rgba(139, 92, 246, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s"},children:e?s.jsx(c,{size:24,className:"text-purple-300"}):s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",alignItems:"center"},children:[0,1,2].map(e=>s.jsx("div",{style:{width:"28px",height:"3px",background:"rgba(168, 85, 247, 0.9)",borderRadius:"10px"}},e))})})}),e&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.7)",zIndex:99998},onClick:()=>t(!1)}),(0,s.jsxs)("div",{style:{position:"fixed",top:0,right:0,height:"100%",width:"100%",zIndex:99999,background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",overflowY:"auto",color:"#ffffff",paddingTop:"120px",lineHeight:"1.8"},className:"p-6 menu-text",children:[s.jsx(x.AnimatedBackground,{}),(0,s.jsxs)("div",{className:"flex flex-col h-full relative z-10",style:{paddingTop:"80px"},children:[s.jsx("button",{onClick:()=>t(!1),style:{position:"fixed",top:"12px",right:"12px",width:"56px",height:"56px",borderRadius:"50%",background:"rgba(139, 92, 246, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(139, 92, 246, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:1e5},children:s.jsx(c,{size:24,className:"text-purple-300"})}),(0,s.jsxs)("div",{className:"flex flex-col mb-8",children:[s.jsx("div",{style:{fontSize:"1.2rem",color:"white",marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid rgba(255,255,255,0.2)"},children:"Wallet"}),(0,s.jsxs)("button",{onClick:()=>h.openModal(),style:{display:"flex",alignItems:"center",gap:"10px",background:"transparent",color:"#a855f7",border:"1px solid rgba(168, 85, 247, 0.5)",borderRadius:"0.75rem",padding:"12px 20px",fontSize:"1rem",fontWeight:600,cursor:"pointer",width:"100%"},children:[s.jsx(p,{size:20,style:{color:"#a855f7",flexShrink:0}}),m?`${m.slice(0,6)}...${m.slice(-4)}`:"Connect Wallet"]}),m&&s.jsx("button",{type:"button",onClick:()=>h.disconnect(),style:{background:"none",border:"none",padding:0,marginTop:"8px",fontSize:"0.8rem",color:"rgba(255,255,255,0.6)",cursor:"pointer",textDecoration:"underline"},children:"Disconnect"})]}),(0,s.jsxs)("div",{className:"flex flex-col mb-8",children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"1.2rem",color:"white",marginBottom:"16px",paddingBottom:"16px",borderBottom:"1px solid rgba(255,255,255,0.2)"},children:[s.jsx("span",{children:"Active Tables"}),(0,s.jsxs)("span",{children:[g,"/12"]})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"1.2rem",color:"white",marginBottom:"16px",paddingBottom:"16px",borderBottom:"1px solid rgba(255,255,255,0.2)"},children:[s.jsx("span",{children:"Total Cycles"}),s.jsx("span",{children:b})]})]}),s.jsx("div",{className:"flex flex-col gap-4",children:[{label:"Tables",href:"/tables"},{label:"Referrals",href:"/referrals"}].map(e=>s.jsx("a",{href:e.href,className:"p-5 rounded-xl bg-white/5 hover:bg-white/10 transition-all",style:{fontSize:"1.2rem",color:"white",textDecoration:"none"},children:e.label},e.href))})]})]})]})]})}let m={1:10,2:20,3:40,4:80,5:160,6:320,7:640,8:1280,9:2560,10:5120,11:10240,12:20480};function g(){(0,i.useRouter)();let[e,t]=(0,n.useState)([]),[r,o]=(0,n.useState)(!0),[l,d]=(0,n.useState)(0),[c,p]=(0,n.useState)(()=>null);(0,n.useRef)(null);let u=Array.from({length:12},(e,t)=>t+1),x=async()=>{if(c)try{let e=await fetch(`/api/user/tables?userId=${c}`),r=await e.json();r.success&&t(r.tables)}catch(e){console.error("Failed to fetch tables:",e)}},g=async e=>{if(c)try{let t=await fetch("/api/user/tables/buy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:parseInt(c,10),tableNumber:e})});(await t.json()).success&&await x()}catch(e){console.error("Failed to buy table:",e)}};return(0,s.jsxs)("div",{className:"min-h-screen relative",children:[!r&&s.jsx(h,{}),s.jsx("div",{className:"w-full relative z-10",style:{paddingTop:"70px"},children:s.jsx("div",{className:"grid grid-cols-2 pt-[90px] mb-12",style:{display:"grid",gridTemplateColumns:"1fr 1fr",width:"fit-content",margin:"0 auto",gap:"0px"},children:r?(0,s.jsxs)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:99999,paddingTop:"0",backgroundColor:"transparent"},children:[s.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"white",marginBottom:"24px",textAlign:"center"},children:"Loading tables..."}),(0,s.jsxs)("p",{style:{fontSize:"1.5rem",color:"white",marginBottom:"16px",textAlign:"center"},children:[l,"%"]}),s.jsx("div",{style:{width:"250px",height:"8px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"4px"},children:s.jsx("div",{style:{width:`${l}%`,height:"100%",backgroundColor:"#a855f7",borderRadius:"4px",transition:"width 0.1s"}})})]}):u.map(t=>{let r=e.find(e=>e.tableNumber===t),n=!!r&&"ACTIVE"===r.status,i=m[t]??0,o=r?.positions??[],l=e=>e?{nickname:e.partnerNickname??e.nickname,filled:!0}:null,d=[l(o.find(e=>1===e.position)??null),l(o.find(e=>2===e.position)??null),l(o.find(e=>3===e.position)??null),l(o.find(e=>4===e.position)??null)],c=r?(r.cycleNumber??1)-1:0,p=e.some(e=>e.tableNumber===t-1&&"ACTIVE"===e.status),u=1===t||p;return s.jsx("div",{style:{width:"44vw"},children:s.jsx(a,{tableNumber:t,price:i,cycles:c,slots:d,isActive:n,isUnlocked:u,onBuy:()=>g(t)})},t)})})})]})}},698:(e,t,r)=>{"use strict";r.d(t,{AnimatedBackground:()=>i});var s=r(326),n=r(7577);function i(){let e=(0,n.useRef)(null);return s.jsx("canvas",{ref:e,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0,pointerEvents:"none"}})}},3202:(e,t,r)=>{"use strict";r.d(t,{TelegramProvider:()=>a});var s=r(326),n=r(7577);let i=(0,n.createContext)({user:null,webApp:null,isReady:!1,isPremium:!1,referralCode:null});function a({children:e}){let[t,r]=(0,n.useState)(null),[a,o]=(0,n.useState)(!1),[l,d]=(0,n.useState)(null),c={user:t,webApp:null,isReady:a,isPremium:t?.is_premium||!1,referralCode:l};return s.jsx(i.Provider,{value:c,children:e})}},6493:(e,t,r)=>{"use strict";r.d(t,{TonConnectProvider:()=>i});var s=r(326),n=r(7092);function i({children:e}){return s.jsx(n.LD,{manifestUrl:"https://matrix-ton-app.vercel.app/tonconnect-manifest.json",actionsConfiguration:{twaReturnUrl:"https://t.me/MatrixTON_Bot"},children:e})}},9950:(e,t,r)=>{"use strict";r.d(t,{ScrollIndicator:()=>o});var s=r(326),n=r(7577),i=r(6633),a=r(941);function o(){let[e,t]=(0,n.useState)(!0),[r,o]=(0,n.useState)(!1);return(0,s.jsxs)("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:99997,display:"flex",flexDirection:"column",gap:"12px"},children:[r&&s.jsx("button",{onClick:()=>{window.scrollBy({top:-(.8*window.innerHeight),behavior:"smooth"})},style:{width:"55px",height:"55px",borderRadius:"50%",background:"rgba(139, 92, 246, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(139, 92, 246, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s",animation:"fadeIn 0.3s"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.3)",e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.2)",e.currentTarget.style.transform="scale(1)"},children:s.jsx(i.Z,{className:"text-purple-300",size:20})}),e&&s.jsx("button",{onClick:()=>{window.scrollBy({top:.8*window.innerHeight,behavior:"smooth"})},style:{width:"55px",height:"55px",borderRadius:"50%",background:"rgba(139, 92, 246, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(139, 92, 246, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.3s",animation:"bounce 2s infinite"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.3)",e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.2)",e.currentTarget.style.transform="scale(1)"},children:s.jsx(a.Z,{className:"text-purple-300",size:20})})]})}},5047:(e,t,r)=>{"use strict";var s=r(7389);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},4760:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>p,viewport:()=>u});var s=r(9510),n=r(5384),i=r.n(n);r(7272);var a=r(8570);let o=(0,a.createProxy)(String.raw`/Users/stanislavozarchuk/Projects/matrix-ton/frontend/components/providers/TelegramProvider.tsx#TelegramProvider`);(0,a.createProxy)(String.raw`/Users/stanislavozarchuk/Projects/matrix-ton/frontend/components/providers/TelegramProvider.tsx#useTelegram`);let l=(0,a.createProxy)(String.raw`/Users/stanislavozarchuk/Projects/matrix-ton/frontend/components/providers/TonConnectProvider.tsx#TonConnectProvider`),d=(0,a.createProxy)(String.raw`/Users/stanislavozarchuk/Projects/matrix-ton/frontend/components/layout/AnimatedBackground.tsx#AnimatedBackground`),c=(0,a.createProxy)(String.raw`/Users/stanislavozarchuk/Projects/matrix-ton/frontend/components/ui/ScrollIndicator.tsx#ScrollIndicator`),p={title:"Matrix TON",description:"Decentralized matrix marketing on TON blockchain"},u={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1};function x({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:i().className,children:[s.jsx(d,{}),s.jsx("div",{className:"stars-bg"}),s.jsx(o,{children:s.jsx(l,{children:e})}),s.jsx(c,{})]})})}},4866:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/stanislavozarchuk/Projects/matrix-ton/frontend/app/tables/page.tsx#default`)},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(6621);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,157,621],()=>r(3780));module.exports=s})();